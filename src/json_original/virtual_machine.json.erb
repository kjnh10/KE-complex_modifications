{
    "title": "Virtual Machine",
    "rules": [
        {
            "description": "Swap command and control in virtual machine/remote desktop",
            "manipulators": [
                {
                    "type": "basic",
                    "from": <%= from("left_control", [], ["any"]) %>,
                    "to": <%= to([["left_command"]]) %>,
                    "conditions": [ <%= frontmost_application_if(["virtual_machine", "remote_desktop"]) %> ]
                },
                {
                    "type": "basic",
                    "from": <%= from("right_control", [], ["any"]) %>,
                    "to": <%= to([["right_command"]]) %>,
                    "conditions": [ <%= frontmost_application_if(["virtual_machine", "remote_desktop"]) %> ]
                },
                {
                    "type": "basic",
                    "from": <%= from("left_command", [], ["any"]) %>,
                    "to": <%= to([["left_control"]]) %>,
                    "conditions": [ <%= frontmost_application_if(["virtual_machine", "remote_desktop"]) %> ]
                },
                {
                    "type": "basic",
                    "from": <%= from("right_command", [], ["any"]) %>,
                    "to": <%= to([["right_control"]]) %>,
                    "conditions": [ <%= frontmost_application_if(["virtual_machine", "remote_desktop"]) %> ]
                }
            ]
        },
        {
            "description": "Left Control -> Command unless in virtual machine/remote desktop",
            "manipulators": [
                {
                    "type": "basic",
                    "from": <%= from("left_control", [], ["any"]) %>,
                    "to": <%= to([["left_command"]]) %>,
                    "conditions": [ <%= frontmost_application_unless(["remote_desktop", "virtual_machine"]) %> ]
                }
            ]
        }
    ]
}
