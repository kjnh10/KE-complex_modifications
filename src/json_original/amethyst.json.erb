{
    "title": "Amethyst Mode",
    "rules": [
        {
            "description": "Trigger Amethyst Mode/Amethyst Second Mode with 9/0",
            "manipulators": [

                <%# -------------------------------------------------- %>
                <%# 9 as Amethyst Mode trigger %>
                <%# -------------------------------------------------- %>

                {
                    "type": "basic",
                    "from": <%= from("9", [], ["caps_lock"]) %>,
                    "to": [
                        { "set_variable": { "name": "amethyst_mode", "value": 1 } }
                    ],
                    "to_after_key_up": [
                        { "set_variable": { "name": "amethyst_mode", "value": 0 } }
                    ],
                    "to_if_alone": <%= to([["9"]]) %>
                },

                <%# -------------------------------------------------- %>
                <%# 90 as Amethyst Second Mode trigger %>
                <%# -------------------------------------------------- %>

                {
                    "type": "basic",
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ],
                    "from": <%= from("0", [], ["caps_lock"]) %>,
                    "to": [
                        { "set_variable": { "name": "amethyst_second_mode", "value": 1 } }
                    ],
                    "to_after_key_up": [
                        { "set_variable": { "name": "amethyst_second_mode", "value": 0 } }
                    ],
                    "to_if_alone": <%= to([["0"]]) %>
                }

            ]
        },
        {
            "description": "9+8 cycle layout forward 9+* backward",
            "manipulators": [
                <%# 9+8 cycle layout forward 9+* backward %>

                {
                    "type": "basic",
                    "from": <%= from("8", [], ["caps_lock"]) %>,
                    "to": <%= to([["spacebar", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("8", ["left_shift"], ["caps_lock"]) %>,
                    "to": <%= to([["spacebar", ["left_control", "left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                }
            ]
        },
        {
            "description": "9+q/w shrink expand main pane",
            "manipulators": [
                <%# 9+q/w shrink expand main pane %>
                {
                    "type": "basic",
                    "from": <%= from("q", [], ["caps_lock"]) %>,
                    "to": <%= to([["h", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("w", [], ["caps_lock"]) %>,
                    "to": <%= to([["l", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                }
            ]
        },
        {
            "description": "9+J/j move focuse clockwise / counter clockwise",
            "manipulators": [
                <%# 9+J/j move focuse clockwise / counter clockwise %>
                {
                    "type": "basic",
                    "from": <%= from("j", ["left_shift"], ["caps_lock"]) %>,
                    "to": <%= to([["k", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("j", [], ["caps_lock"]) %>,
                    "to": <%= to([["j", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                }
            ]
        },
        {
            "description": "90+J/j swap focused window clockwise / counter clockwise",
            "manipulators": [
                <%# 90+J/j swap focused window clockwise / counter clockwise %>
                {
                    "type": "basic",
                    "from": <%= from("j", ["left_shift"], ["caps_lock"]) %>,
                    "to": <%= to([["j", ["left_option", "left_shift", "left_control"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_second_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("j", [], ["caps_lock"]) %>,
                    "to": <%= to([["k", ["left_option", "left_shift", "left_control"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_second_mode", "value": 1 }
                    ]
                }
            ]
        },
        {
            "description": "90+8/* swap focused window clockwise / counter clockwise screen",
            "manipulators": [
                <%# 90+8/* swap focused window clockwise / counter clockwise screen %>
                {
                    "type": "basic",
                    "from": <%= from("8", ["left_shift"], ["caps_lock"]) %>,
                    "to": <%= to([["h", ["left_option", "left_shift", "left_control"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_second_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("8", [], ["caps_lock"]) %>,
                    "to": <%= to([["l", ["left_option", "left_shift", "left_control"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_second_mode", "value": 1 }
                    ]
                }
            ]
        },
        {
            "description": "9+ui/UI focus screen 12 / throw focus window to screen 12",
            "manipulators": [
                <%# 9+ui/UI focus screen 12 / throw focus window to screen 12 %>
                {
                    "type": "basic",
                    "from": <%= from("u", [], ["caps_lock"]) %>,
                    "to": <%= to([["w", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("u", ["left_shift"], ["caps_lock"]) %>,
                    "to": <%= to([["w", ["left_option", "left_shift", "left_control"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("i", [], ["caps_lock"]) %>,
                    "to": <%= to([["e", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("i", ["left_shift"], ["caps_lock"]) %>,
                    "to": <%= to([["e", ["left_option", "left_shift", "left_control"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                }
            ]
        },
        {
            "description": "9+zxc/ZXC focus screen 123 / throw focus window to screen 123",
            "manipulators": [
                <%# 9+zxc/ZXC focus screen 123 / throw focus window to screen 123 %>
                {
                    "type": "basic",
                    "from": <%= from("z", [], ["caps_lock"]) %>,
                    "to": <%= to([["w", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("z", ["left_shift"], ["caps_lock"]) %>,
                    "to": <%= to([["w", ["left_option", "left_shift", "left_control"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("x", [], ["caps_lock"]) %>,
                    "to": <%= to([["e", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("x", ["left_shift"], ["caps_lock"]) %>,
                    "to": <%= to([["e", ["left_option", "left_shift", "left_control"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("c", [], ["caps_lock"]) %>,
                    "to": <%= to([["r", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("c", ["left_shift"], ["caps_lock"]) %>,
                    "to": <%= to([["r", ["left_option", "left_shift", "left_control"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                }
            ]
        },
        {
            "description": "9+t toggle flot for current window",
            "manipulators": [
                <%# 9+t toggle flot for current window%>

                {
                    "type": "basic",
                    "from": <%= from("t", [], ["caps_lock"]) %>,
                    "to": <%= to([["t", ["left_option", "left_shift", "left_control"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                }
            ]
        },
        {
            "description": "9+asdf select tall/wide/column/fullscren layout",
            "manipulators": [
                <%# 9+asdf select tall/wide/column/fullscren layout%>

                {
                    "type": "basic",
                    "from": <%= from("a", [], ["caps_lock"]) %>,
                    "to": <%= to([["a", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("s", [], ["caps_lock"]) %>,
                    "to": <%= to([["s", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("d", [], ["caps_lock"]) %>,
                    "to": <%= to([["f", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("f", [], ["caps_lock"]) %>,
                    "to": <%= to([["d", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                }
            ]
        },
        {
            "description": "Amethyst Mode All in one",
            "manipulators": [

                <%# -------------------------------------------------- %>
                <%# 9 as Amethyst Mode trigger %>
                <%# -------------------------------------------------- %>

                {
                    "type": "basic",
                    "from": <%= from("9", [], ["caps_lock"]) %>,
                    "to": [
                        { "set_variable": { "name": "amethyst_mode", "value": 1 } }
                    ],
                    "to_after_key_up": [
                        { "set_variable": { "name": "amethyst_mode", "value": 0 } }
                    ],
                    "to_if_alone": <%= to([["9"]]) %>
                },

                <%# -------------------------------------------------- %>
                <%# 90 as Amethyst Second Mode trigger %>
                <%# -------------------------------------------------- %>

                {
                    "type": "basic",
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ],
                    "from": <%= from("0", [], ["caps_lock"]) %>,
                    "to": [
                        { "set_variable": { "name": "amethyst_second_mode", "value": 1 } }
                    ],
                    "to_after_key_up": [
                        { "set_variable": { "name": "amethyst_second_mode", "value": 0 } }
                    ],
                    "to_if_alone": <%= to([["0"]]) %>
                },

                <%# ------------------------------- %>
                <%# 9+8 cycle layout forward 9+* backward %>

                {
                    "type": "basic",
                    "from": <%= from("8", [], ["caps_lock"]) %>,
                    "to": <%= to([["spacebar", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("8", ["left_shift"], ["caps_lock"]) %>,
                    "to": <%= to([["spacebar", ["left_control", "left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },


                <%# 9+q/w shrink expand main pane %>
                {
                    "type": "basic",
                    "from": <%= from("q", [], ["caps_lock"]) %>,
                    "to": <%= to([["h", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("w", [], ["caps_lock"]) %>,
                    "to": <%= to([["l", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },

                <%# 9+J/j move focuse clockwise / counter clockwise %>
                {
                    "type": "basic",
                    "from": <%= from("j", ["left_shift"], ["caps_lock"]) %>,
                    "to": <%= to([["k", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("j", [], ["caps_lock"]) %>,
                    "to": <%= to([["j", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },

                <%# 90+J/j swap focused window clockwise / counter clockwise %>
                {
                    "type": "basic",
                    "from": <%= from("j", ["left_shift"], ["caps_lock"]) %>,
                    "to": <%= to([["j", ["left_option", "left_shift", "left_control"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_second_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("j", [], ["caps_lock"]) %>,
                    "to": <%= to([["k", ["left_option", "left_shift", "left_control"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_second_mode", "value": 1 }
                    ]
                },

                <%# 90+8/* swap focused window clockwise / counter clockwise screen %>
                {
                    "type": "basic",
                    "from": <%= from("8", ["left_shift"], ["caps_lock"]) %>,
                    "to": <%= to([["h", ["left_option", "left_shift", "left_control"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_second_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("8", [], ["caps_lock"]) %>,
                    "to": <%= to([["l", ["left_option", "left_shift", "left_control"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_second_mode", "value": 1 }
                    ]
                },

                <%# 9+ui/UI focus screen 12 / throw focus window to screen 12 %>
                {
                    "type": "basic",
                    "from": <%= from("u", [], ["caps_lock"]) %>,
                    "to": <%= to([["w", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("u", ["left_shift"], ["caps_lock"]) %>,
                    "to": <%= to([["w", ["left_option", "left_shift", "left_control"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("i", [], ["caps_lock"]) %>,
                    "to": <%= to([["e", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("i", ["left_shift"], ["caps_lock"]) %>,
                    "to": <%= to([["e", ["left_option", "left_shift", "left_control"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },

                <%# 9+zxc/ZXC focus screen 123 / throw focus window to screen 123 %>
                {
                    "type": "basic",
                    "from": <%= from("z", [], ["caps_lock"]) %>,
                    "to": <%= to([["w", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("z", ["left_shift"], ["caps_lock"]) %>,
                    "to": <%= to([["w", ["left_option", "left_shift", "left_control"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },

                {
                    "type": "basic",
                    "from": <%= from("x", [], ["caps_lock"]) %>,
                    "to": <%= to([["e", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("x", ["left_shift"], ["caps_lock"]) %>,
                    "to": <%= to([["e", ["left_option", "left_shift", "left_control"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },

                {
                    "type": "basic",
                    "from": <%= from("c", [], ["caps_lock"]) %>,
                    "to": <%= to([["r", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("c", ["left_shift"], ["caps_lock"]) %>,
                    "to": <%= to([["r", ["left_option", "left_shift", "left_control"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },

                <%# 9+t toggle flot for current window%>

                {
                    "type": "basic",
                    "from": <%= from("t", [], ["caps_lock"]) %>,
                    "to": <%= to([["t", ["left_option", "left_shift", "left_control"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },

                <%# 9+asdf select tall/wide/column/fullscren layout%>

                {
                    "type": "basic",
                    "from": <%= from("a", [], ["caps_lock"]) %>,
                    "to": <%= to([["a", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("s", [], ["caps_lock"]) %>,
                    "to": <%= to([["s", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("d", [], ["caps_lock"]) %>,
                    "to": <%= to([["f", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                },
                {
                    "type": "basic",
                    "from": <%= from("f", [], ["caps_lock"]) %>,
                    "to": <%= to([["d", ["left_option", "left_shift"]]]) %>,
                    "conditions": [
                        { "type": "variable_if", "name": "amethyst_mode", "value": 1 }
                    ]
                }
            ]
        }
    ]
}
